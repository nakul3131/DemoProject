@model DemoProject.Services.ViewModel.Management.Servant.EmployeeViewModel
@using DemoProject.Services.ViewModel.Configuration
@using DemoProject.Services.ViewModel.Management.Servant
@using DemoProject.Services.HtmlHelpers

@{
    EmployeeDTDetailViewModel detailViewModel = new EmployeeDTDetailViewModel();
    HeaderPartialModel headerPartialModel = new HeaderPartialModel("EMPMOD");
}

<!doctype html>
<html lang="en-US">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />

    <title>Employee - Modify</title>
</head>
<body>
    <div class="container-fluid">

        @* ======= First Row - For Header ======= *@
        <div class="row">
            <div class="offset-1 col-10">
                @Html.Partial("Header", headerPartialModel)
            </div>
        </div>

        @* ======= Second Row - Data Entry Page ======= *@
        <div class="row mt-3">
            <div class="offset-1 col-10">
                <div class="card mb-3">
                    @using (Html.BeginForm("Modify", "Employee", FormMethod.Post, new { enctype = "multipart/form-data" }))
                    {
                        @Html.AntiForgeryToken()
                        {
                            <div class="card-body">
                                @* ======= First Row - Mandatory Mark ======= *@
                                <div class="row mt-2">
                                    <div class="col-12">
                                        <h6 class="mb-2 text-right text-muted"><b class="mandatory-mark">&nbsp; Mandatory Field</b></h6>
                                    </div>
                                </div>

                                @*======= Second Row - Page Title =======*@
                                <div class="row mt-2">
                                    @*Page Title*@
                                    <div class="col-12">
                                        <h5 class="font-weight-bold mt-1">Modify</h5>
                                        <hr />
                                    </div>
                                </div>

                                @*Submit Error*@
                                @Html.ValidationMessage("SubmitError")

                                @* ======= Third Row - Data Entry Page ======= *@
                                <div class="row">
                                    <div class="col-lg-12">
                                        @*Name Of EmployeeCode*@
                                        <div class="form-group">
                                            @Html.CustomLabel("Employee Code")
                                            <div>
                                                @Html.TextBoxFor(m => m.EmployeeCode, new { @id = "name-of-employeecode", @class = "form-control mandatory-mark text-capitalize", onkeyup = "populateSecondTextBox();", @autocomplete = "off", @placeholder = "Enter Name Of Employee Code", required = "required" })
                                                @Html.ValidationMessageFor(m => m.EmployeeCode)
                                            </div>
                                        </div>

                                        @*External EmployeeId1*@
                                        <div class="form-group">
                                            @Html.CustomLabel("External Employee Id1")
                                            <div>
                                                @Html.TextBoxFor(m => m.ExternalEmployeeId1, new { @id = "external-employee-id1", @class = "form-control text-capitalize", @autocomplete = "off", required = "required", @placeholder = "Enter External EmployeeId1" })
                                                @Html.ValidationMessageFor(m => m.ExternalEmployeeId1)
                                            </div>
                                        </div>

                                        @*External EmployeeId2*@
                                        <div class="form-group">
                                            @Html.CustomLabel("External Employee Id2")
                                            <div>
                                                @Html.TextBoxFor(m => m.ExternalEmployeeId2, new { @id = "external-employee-id2", @class = "form-control text-capitalize", @autocomplete = "off", required = "required", @placeholder = "Enter External EmployeeId2" })
                                                @Html.ValidationMessageFor(m => m.ExternalEmployeeId2)
                                            </div>
                                        </div>

                                        @*Employee Category*@
                                        <div class="form-group">
                                            @Html.CustomLabel("Employee Category")
                                            <div class="row">
                                                <div class="col-6">
                                                    <div class="mt-1 d-flex justify-content-between">
                                                        <div class="form-check form-check-inline">
                                                            @Html.RadioButtonFor(m => m.EmployeeCategory, "STF", new { @name = "EmployeeCategory", required = "required", })
                                                            <label class="form-check-label pl-2">For Staff</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            @Html.RadioButtonFor(m => m.EmployeeCategory, "WRK", new { @name = "EmployeeCategory", required = "required", })
                                                            <label class="form-check-label pl-2">For Worker</label>
                                                        </div>
                                                        <div class="form-check form-check-inline">
                                                            @Html.RadioButtonFor(m => m.EmployeeCategory, "SST", new { @name = "EmployeeCategory", required = "required", })
                                                            <label class="form-check-label pl-2">For Semi Staff</label>
                                                        </div>
                                                    </div>
                                                    @Html.ValidationMessageFor(m => m.EmployeeCategory)
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                @* Forth Row - Accordian *@
                                <div class="row mt-4">
                                    <div class="col-12">
                                        <div id="accordion" class="accordion md-accordion accordion-blocks">
                                            @*Accordian 1 - Employee Department*@
                                            <div id="heading-employee-department" class="card mt-3">
                                                <a class="card-header p-3" data-toggle="collapse" aria-expanded="false" aria-controls="collapse-employee-department" href="#collapse-employee-department">
                                                    <b>Department</b>
                                                </a>
                                                <div id="collapse-employee-department" class="collapse" aria-labelledby="heading-employee-department" data-parent="#accordion">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                @*Department Name*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Department Name")
                                                                    <div>
                                                                        @Html.DropDownListFor(m => m.EmployeeDepartmentViewModel.DepartmentId, new SelectList(detailViewModel.DepartmentDropdownList, "Value", "Text"), "Select Department Name", new { @id = "department-type", @class = "form-control mandatory-mark", @autocomplete = "off", @placeholder = "Enter Department Type", required = "required", })
                                                                        @Html.ValidationMessageFor(m => m.EmployeeDepartmentViewModel.DepartmentId)
                                                                    </div>
                                                                </div>

                                                                @*ActivationDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Activation Date")
                                                                    @Html.TextBoxFor(m => m.EmployeeDepartmentViewModel.ActivationDate, "{0:yyyy-MM-dd}", new { @id = "activation-date", @class = "form-control mandatory-mark deny-past-date", @Type = "date", required = "required", onclick = "DenyPastDate()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeDepartmentViewModel.ActivationDate)
                                                                </div>

                                                                @*ExpiryDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Expiry Date")
                                                                    @Html.TextBoxFor(m => m.EmployeeDepartmentViewModel.ExpiryDate, "{0:yyyy-MM-dd}", new { @id = "expiry-date", @class = "form-control deny-past-date-from-reference-date", @Type = "date", onclick = "DenyPastDateFromReferenceDate('activation-date')" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeDepartmentViewModel.ExpiryDate)
                                                                </div>

                                                                @*CloseDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Close Date")
                                                                    @Html.TextBoxFor(m => m.EmployeeDepartmentViewModel.CloseDate, "{0:yyyy-MM-dd}", new { @id = "close-date", @class = "form-control", @Type = "date", onchange = "Closedate()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeDepartmentViewModel.CloseDate)
                                                                </div>

                                                                @*Note*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Note")
                                                                    @Html.TextAreaFor(m => m.EmployeeDepartmentViewModel.Note, new { @id = "note-employee-department", @class = "form-control default-none", @placeholder = "Enter Note", @maxlength = "1500", @autocomplete = "off", onkeyup = "ToTextCapitalize()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeDepartmentViewModel.Note)
                                                                </div>

                                                                @*ReasonForModification*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("ReasonForModification")
                                                                    <div>
                                                                        @Html.TextAreaFor(m => m.EmployeeDepartmentViewModel.ReasonForModification, new { @id = "reason-for-modification-employee-department", @class = "form-control mandatory-mark text-capitalize", @maxlength = "100", @autocomplete = "off", @placeholder = "Enter Reason For Modification", required = "required" })
                                                                        @Html.ValidationMessageFor(m => m.EmployeeDepartmentViewModel.ReasonForModification)
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            @*Accordian 2 - Employee Designation*@
                                            <div id="heading-employee-designation" class="card mt-3">
                                                <a class="card-header p-3" data-toggle="collapse" aria-expanded="false" aria-controls="collapse-employee-designation" href="#collapse-employee-designation">
                                                    <b>Designation</b>
                                                </a>
                                                <div id="collapse-employee-designation" class="collapse" aria-labelledby="heading-employee-designation" data-parent="#accordion">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                @*Designation Name*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Designation Name")
                                                                    <div>
                                                                        @Html.DropDownListFor(m => m.EmployeeDesignationViewModel.DesignationId, new SelectList(detailViewModel.DesignationDropdownList, "Value", "Text"), "Select Designation Name", new { @id = "designation-type", @class = "form-control mandatory-mark", @autocomplete = "off", @placeholder = "Enter Designation Type", required = "required", })
                                                                        @Html.ValidationMessageFor(m => m.EmployeeDesignationViewModel.DesignationId)
                                                                    </div>
                                                                </div>

                                                                @*ActivationDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Activation Date")
                                                                    @Html.TextBoxFor(m => m.EmployeeDesignationViewModel.ActivationDate, "{0:yyyy-MM-dd}", new { @id = "activation-date", @class = "form-control mandatory-mark deny-past-date", @Type = "date", required = "required", onclick = "DenyPastDate()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeDesignationViewModel.ActivationDate)
                                                                </div>

                                                                @*ExpiryDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Expiry Date")
                                                                    @Html.TextBoxFor(m => m.EmployeeDesignationViewModel.ExpiryDate, "{0:yyyy-MM-dd}", new { @id = "expiry-date", @class = "form-control deny-past-date-from-reference-date", @Type = "date", onclick = "DenyPastDateFromReferenceDate('activation-date')" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeDesignationViewModel.ExpiryDate)
                                                                </div>

                                                                @*CloseDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Close Date")
                                                                    @Html.TextBoxFor(m => m.EmployeeDesignationViewModel.CloseDate, "{0:yyyy-MM-dd}", new { @id = "close-date", @class = "form-control", @Type = "date", onchange = "Closedate()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeDesignationViewModel.CloseDate)
                                                                </div>

                                                                @*Note*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Note")
                                                                    @Html.TextAreaFor(m => m.EmployeeDesignationViewModel.Note, new { @id = "note-employee-designation", @class = "form-control default-none", @placeholder = "Enter Note", @maxlength = "1500", @autocomplete = "off", onkeyup = "ToTextCapitalize()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeDesignationViewModel.Note)
                                                                </div>

                                                                @*ReasonForModification*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("ReasonForModification")
                                                                    <div>
                                                                        @Html.TextAreaFor(m => m.EmployeeDesignationViewModel.ReasonForModification, new { @id = "reason-for-modification-employee-designation", @class = "form-control mandatory-mark text-capitalize", @maxlength = "100", @autocomplete = "off", @placeholder = "Enter Reason For Modification", required = "required" })
                                                                        @Html.ValidationMessageFor(m => m.EmployeeDesignationViewModel.ReasonForModification)
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            @*Accordian 3 - Employee Performance Rating*@
                                            <div id="heading-employee-performance-rating" class="card mt-3">
                                                <a class="card-header p-3" data-toggle="collapse" aria-expanded="false" aria-controls="collapse-employee-performance-rating" href="#collapse-employee-performance-rating">
                                                    <b>Performance Rating</b>
                                                </a>
                                                <div id="collapse-employee-performance-rating" class="collapse" aria-labelledby="heading-employee-performance-rating" data-parent="#accordion">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                @*Employee Rating*@
                                                                <div class="form-group">
                                                                    <label class="font-weight-bold">Employee Rating</label>
                                                                    <div>
                                                                        @Html.TextBoxFor(m => m.EmployeePerformanceRatingViewModel.EmployeeRating, new { @id = "employee-rating", @class = "form-control", @autocomplete = "off", @type = "number", @min = "1", @max = "5", required = "required", @placeholder = "Enter Employee Rating" })
                                                                        @Html.ValidationMessageFor(m => m.EmployeePerformanceRatingViewModel.EmployeeRating)
                                                                    </div>
                                                                </div>

                                                                @*ActivationDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Activation Date")
                                                                    @Html.TextBoxFor(m => m.EmployeePerformanceRatingViewModel.ActivationDate, "{0:yyyy-MM-dd}", new { @id = "activation-date", @class = "form-control mandatory-mark deny-past-date", @Type = "date", required = "required", onclick = "DenyPastDate()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeePerformanceRatingViewModel.ActivationDate)
                                                                </div>

                                                                @*CloseDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Close Date")
                                                                    @Html.TextBoxFor(m => m.EmployeePerformanceRatingViewModel.CloseDate, "{0:yyyy-MM-dd}", new { @id = "close-date", @class = "form-control", @Type = "date", onchange = "Closedate()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeePerformanceRatingViewModel.CloseDate)
                                                                </div>

                                                                @*Note*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Note")
                                                                    @Html.TextAreaFor(m => m.EmployeePerformanceRatingViewModel.Note, new { @id = "note-employee-performance-rating", @class = "form-control default-none", @placeholder = "Enter Note", @maxlength = "1500", @autocomplete = "off", onkeyup = "ToTextCapitalize()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeePerformanceRatingViewModel.Note)
                                                                </div>

                                                                @*ReasonForModification*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("ReasonForModification")
                                                                    <div>
                                                                        @Html.TextAreaFor(m => m.EmployeePerformanceRatingViewModel.ReasonForModification, new { @id = "reason-for-modification-employee-performance-rating", @class = "form-control mandatory-mark text-capitalize", @maxlength = "100", @autocomplete = "off", @placeholder = "Enter Reason For Modification", required = "required" })
                                                                        @Html.ValidationMessageFor(m => m.EmployeePerformanceRatingViewModel.ReasonForModification)
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            @*Accordian 4 - Employee Working Schedule*@
                                            <div id="heading-employee-working-schedule" class="card mt-3">
                                                <a class="card-header p-3" data-toggle="collapse" aria-expanded="false" aria-controls="collapse-employee-working-schedule" href="#collapse-employee-working-schedule">
                                                    <b>Working Schedule</b>
                                                </a>
                                                <div id="collapse-employee-working-schedule" class="collapse" aria-labelledby="heading-employee-working-schedule" data-parent="#accordion">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                @*Working Schedule*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Working Schedule")
                                                                    <div>
                                                                        @Html.DropDownListFor(m => m.EmployeeWorkingScheduleViewModel.WorkingScheduleId, new SelectList(detailViewModel.WorkingScheduleDropdownList, "Value", "Text"), "Select Working Schedule Name", new { @class = "form-control mandatory-mark", @autocomplete = "off", required = "required" })
                                                                        @Html.ValidationMessageFor(m => m.EmployeeWorkingScheduleViewModel.WorkingScheduleId)
                                                                    </div>
                                                                </div>

                                                                @*ActivationDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Activation Date")
                                                                    @Html.TextBoxFor(m => m.EmployeeWorkingScheduleViewModel.ActivationDate, "{0:yyyy-MM-dd}", new { @id = "activation-date", @class = "form-control mandatory-mark deny-past-date", @Type = "date", required = "required", onclick = "DenyPastDate()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeWorkingScheduleViewModel.ActivationDate)
                                                                </div>

                                                                @*ExpiryDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Expiry Date")
                                                                    @Html.TextBoxFor(m => m.EmployeeWorkingScheduleViewModel.ExpiryDate, "{0:yyyy-MM-dd}", new { @id = "expiry-date", @class = "form-control deny-past-date-from-reference-date", @Type = "date", onclick = "DenyPastDateFromReferenceDate('activation-date')" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeWorkingScheduleViewModel.ExpiryDate)
                                                                </div>

                                                                @*CloseDate*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Close Date")
                                                                    @Html.TextBoxFor(m => m.EmployeeWorkingScheduleViewModel.CloseDate, "{0:yyyy-MM-dd}", new { @id = "close-date", @class = "form-control", @Type = "date", onchange = "Expirydate()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeWorkingScheduleViewModel.CloseDate)
                                                                </div>

                                                                @*Note*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("Note")
                                                                    @Html.TextAreaFor(m => m.EmployeeWorkingScheduleViewModel.Note, new { @id = "note-employee-working-schedule", @class = "form-control", @placeholder = "Enter Note", @maxlength = "1500", @autocomplete = "off", onkeyup = "ToTextCapitalize()" })
                                                                    @Html.ValidationMessageFor(m => m.EmployeeWorkingScheduleViewModel.Note)
                                                                </div>

                                                                @*ReasonForModification*@
                                                                <div class="form-group">
                                                                    @Html.CustomLabel("ReasonForModification")
                                                                    <div>
                                                                        @Html.TextAreaFor(m => m.EmployeeWorkingScheduleViewModel.ReasonForModification, new { @id = "reason-for-modification-employee-working-schedule", @class = "form-control mandatory-mark text-capitalize", @maxlength = "100", @autocomplete = "off", @placeholder = "Enter Reason For Modification", required = "required" })
                                                                        @Html.ValidationMessageFor(m => m.EmployeeWorkingScheduleViewModel.ReasonForModification)
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                            @*Accordian 5 - Employee Detail*@
                                            <div id="heading-employee-detail" class="card mt-3">
                                                <a class="card-header p-3" data-toggle="collapse" aria-expanded="false" aria-controls="collapse-employee-detail" href="#collapse-employee-detail">
                                                    <b>Detail</b>
                                                </a>
                                                <div id="collapse-employee-detail" class="collapse" aria-labelledby="heading-employee-detail" data-parent="#accordion">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <div class="card-body">
                                                                    @*Person Name*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("Person Name")
                                                                        <div>
                                                                            @Html.DropDownListFor(m => m.EmployeeDetailViewModel.PersonId, new SelectList(detailViewModel.PersonDropdownList, "Value", "Text"), "Select Person Name", new { @class = "form-control mandatory-mark", @autocomplete = "off", required = "required" })
                                                                            @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.PersonId)
                                                                        </div>
                                                                    </div>

                                                                    @*Employee Type*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("Employee Type")
                                                                        <div>
                                                                            @Html.DropDownListFor(m => m.EmployeeDetailViewModel.EmployeeTypeId, new SelectList(detailViewModel.EmployeeTypeDropdownList, "Value", "Text"), new { @id = "employee-type", @class = "form-control mandatory-mark", @autocomplete = "off", @placeholder = "Enter Employee Type", required = "required", })
                                                                            @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.EmployeeTypeId)
                                                                        </div>
                                                                    </div>

                                                                    @*Date Of Joining*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("Date Of Joining")
                                                                        <div>
                                                                            @Html.TextBoxFor(m => m.EmployeeDetailViewModel.DateOfJoining, "{0:yyyy-MM-dd}", new { @class = "form-control mandatory-mark deny-past-date", @Type = "date", @id = "DateOfJoining", @autocomplete = "off", @placeholder = "Enter Date Of Joining", onclick = "DenyPastDate()", required = "required" })
                                                                            @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.DateOfJoining)
                                                                        </div>
                                                                    </div>

                                                                    @*Date Of Leaving*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("Date Of Leaving")
                                                                        <div>
                                                                            @Html.TextBoxFor(m => m.EmployeeDetailViewModel.DateOfLeaving, "{0:yyyy-MM-dd}", new { @class = "form-control deny-past-date-from-reference-date", @Type = "date", @id = "DateOfLeaving", @autocomplete = "off", @placeholder = "Enter Date Of Leaving", onclick = "DenyPastDateFromReferenceDate('DateOfJoining')" })
                                                                            @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.DateOfLeaving)
                                                                        </div>
                                                                    </div>

                                                                    @*Posting Place*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("Posting Place")
                                                                        <div>
                                                                            @Html.DropDownListFor(m => m.EmployeeDetailViewModel.PostingPlaceId, new SelectList(detailViewModel.BusinessOfficeDropdownList, "Value", "Text"), "Select Posting Place", new { @class = "form-control mandatory-mark", @autocomplete = "off", required = "required" })
                                                                            @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.PostingPlaceId)
                                                                        </div>
                                                                    </div>

                                                                    @*Date Of Probation*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("Date Of Probation")
                                                                        <div>
                                                                            @Html.TextBoxFor(m => m.EmployeeDetailViewModel.DateOfProbation, "{0:yyyy-MM-dd}", new { @class = "form-control mandatory-mark deny-past-date-from-reference-date", @Type = "date", @id = "DateOfProbation", @autocomplete = "off", onclick = "DenyPastDateFromReferenceDate('DateOfJoining')", @placeholder = "Enter Date Of Probation", required = "required" })
                                                                            @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.DateOfProbation)
                                                                        </div>
                                                                    </div>

                                                                    @*Date Of Confirmation*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("Date Of Confirmation")
                                                                        <div>
                                                                            @Html.TextBoxFor(m => m.EmployeeDetailViewModel.DateOfConfirmation, "{0:yyyy-MM-dd}", new { @class = "form-control deny-past-date-from-reference-date", @Type = "date", @id = "DateOfConfirmation", @autocomplete = "off", onclick = "DenyPastDateFromReferenceDate('DateOfJoining')", @placeholder = "Enter Date Of Confirmation" })
                                                                            @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.DateOfConfirmation)
                                                                        </div>
                                                                    </div>

                                                                    @*Date Of Training Started*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("Date Of Training Started")
                                                                        <div>
                                                                            @Html.TextBoxFor(m => m.EmployeeDetailViewModel.DateOfTrainingStarted, "{0:yyyy-MM-dd}", new { @class = "form-control mandatory-mark deny-past-date-from-reference-date", @Type = "date", @id = "DateOfTrainingStarted", @autocomplete = "off", @placeholder = "Enter Date Of Joining", onclick = "DenyPastDateFromReferenceDate('DateOfJoining')", required = "required" })
                                                                            @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.DateOfTrainingStarted)
                                                                        </div>
                                                                    </div>

                                                                    @*Date Of TrainingEnded*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("Date Of Training Ended")
                                                                        <div>
                                                                            @Html.TextBoxFor(m => m.EmployeeDetailViewModel.DateOfTrainingEnded, "{0:yyyy-MM-dd}", new { @class = "form-control deny-past-date-from-reference-date", @Type = "date", @id = "DateOfTrainingEnded", @autocomplete = "off", onclick = "DenyPastDateFromReferenceDate('DateOfJoining')", @placeholder = "Enter Date Of TrainingEnded" })
                                                                            @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.DateOfTrainingEnded)
                                                                        </div>
                                                                    </div>

                                                                    @*Note*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("Note")
                                                                        @Html.TextAreaFor(m => m.EmployeeDetailViewModel.Note, new { @id = "note-employee-detail", @class = "form-control", @placeholder = "Enter Note", @maxlength = "1500", @autocomplete = "off", onkeyup = "ToTextCapitalize()" })
                                                                        @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.Note)
                                                                    </div>

                                                                    @*ReasonForModification*@
                                                                    <div class="form-group">
                                                                        @Html.CustomLabel("ReasonForModification")
                                                                        <div>
                                                                            @Html.TextAreaFor(m => m.EmployeeDetailViewModel.ReasonForModification, new { @id = "reason-for-modification-employee-detail", @class = "form-control mandatory-mark text-capitalize", @maxlength = "100", @autocomplete = "off", @placeholder = "Enter Reason For Modification", required = "required" })
                                                                            @Html.ValidationMessageFor(m => m.EmployeeDetailViewModel.ReasonForModification)
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            @*Accordian 6 - Employee Document*@
                                            <div id="heading-employee-document" class="card mt-3">
                                                <a class="card-header p-3" data-toggle="collapse" aria-expanded="false" aria-controls="collapse-employee-document" href="#collapse-employee-document">
                                                    <b>Document</b>
                                                </a>
                                                <div id="collapse-employee-document" class="collapse" aria-labelledby="heading-EmployeeDocument" data-parent="#accordion">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <div class="card-body">
                                                                    <table id="tbl-employee-document" class="table compact table-striped table-bordered text-nowrap" cellspacing="0" width="100%">
                                                                        <thead class="text-center">
                                                                            <tr>
                                                                                <th><input type="checkbox" name="check_all" id="select-all-employee-document" /></th>
                                                                                <th style="display:none;">DocumentID</th>
                                                                                <th>Document Name</th>
                                                                                <th>Storage Path</th>
                                                                                <th>Note</th>
                                                                                <th>ReasonForModification</th>
                                                                            </tr>
                                                                        </thead>

                                                                        <tbody class="text-center">
                                                                            @{
                                                                                IEnumerable<EmployeeDocumentViewModel> employeeDocumentViewModels = (IEnumerable<EmployeeDocumentViewModel>)HttpContext.Current.Session["EmployeeDocument"];

                                                                                foreach (EmployeeDocumentViewModel viewModel in employeeDocumentViewModels)
                                                                                {
                                                                                    <tr>
                                                                                        <td><input type="checkbox" name="check_all" class="checks" /></td>
                                                                                        <td class="d-none">@viewModel.DocumentId</td>
                                                                                        <td>@viewModel.NameOfDocument</td>
                                                                                        <td>@viewModel.StoragePath</td>
                                                                                        <td>@viewModel.Note</td>
                                                                                        <td>@viewModel.ReasonForModification</td>
                                                                                    </tr>
                                                                                }
                                                                            }
                                                                        </tbody>
                                                                    </table>

                                                                    <div class="modal fade" id="employee-document-modal" tabindex="-1" data-backdrop="static" role="dialog" aria-labelledby="modal-new-employee-document" aria-hidden="true">
                                                                        <div class="modal-dialog modal-dialog-centered modal-dialog-zoom" role="document">
                                                                            <div class="modal-content">
                                                                                <div class="modal-header">
                                                                                    <h4 class="modal-title text-center" id="employee-document-text">Add</h4>
                                                                                    <button type="button" id="closeemployeedocument" class="close" data-dismiss="modal" aria-label="Close">
                                                                                        <span aria-hidden="true">&times;</span>
                                                                                    </button>
                                                                                </div>
                                                                                <div class="modal-body">
                                                                                    @*Name Of Employee Document*@
                                                                                    <div class="form-group">
                                                                                        @Html.CustomLabel("Name Of Employee Document")
                                                                                        <div class="mr-3">
                                                                                            @Html.DropDownListFor(m => m.EmployeeDocumentViewModel.DocumentId, new SelectList(detailViewModel.DocumentNameDropdownList, "Value", "Text", 0), "---Please select---", new { @id = "documentId", @class = "form-control mandatory-mark", @autocomplete = "off", required = "required" })
                                                                                            @Html.ValidationMessageFor(m => m.EmployeeDocumentViewModel.DocumentId)
                                                                                        </div>
                                                                                    </div>

                                                                                    @*Storage Path*@
                                                                                    <div class="form-group">
                                                                                        @Html.CustomLabel("Storage Path")
                                                                                        @Html.TextBoxFor(m => m.EmployeeDocumentViewModel.StoragePath, new { @id = "storagePath", type = "file", @class = "form-control mandatory-mark", name = "DocPath", @autocomplete = "off", @placeholder = "Please Browse StoragePath", required = "required" })
                                                                                        @Html.ValidationMessageFor(m => m.EmployeeDocumentViewModel.StoragePath)
                                                                                    </div>

                                                                                    @*Note*@
                                                                                    <div class="form-group">
                                                                                        @Html.CustomLabel("Note")
                                                                                        @Html.TextAreaFor(m => m.EmployeeDocumentViewModel.Note, new { @id = "note-employee-document", @class = "form-control default-none", @placeholder = "Enter Note", @maxlength = "1500", @autocomplete = "off", onkeyup = "ToTextCapitalize()" })
                                                                                        @Html.ValidationMessageFor(m => m.EmployeeDocumentViewModel.Note)
                                                                                    </div>

                                                                                    @*ReasonForModification*@
                                                                                    <div class="form-group">
                                                                                        @Html.CustomLabel("ReasonForModification")
                                                                                        <div>
                                                                                            @Html.TextAreaFor(m => m.EmployeeDocumentViewModel.ReasonForModification, new { @id = "reason-for-modification-employee-document", @class = "form-control mandatory-mark text-capitalize", @maxlength = "100", @autocomplete = "off", @placeholder = "Enter Reason For Modification", required = "required" })
                                                                                            @Html.ValidationMessageFor(m => m.EmployeeDocumentViewModel.ReasonForModification)
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="modal-footer">
                                                                                    <button type="button" id="btn-add-employee-document-modal" class="btn btn-success ">Add</button>
                                                                                    <button type="button" id="btn-update-employee-document-modal" class="btn btn-primary" style="display:none">Update</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            @*Accordian 7 - Employee Photo*@
                                            <div id="heading-employee-photo" class="card mt-3">
                                                <a class="card-header p-3" data-toggle="collapse" aria-expanded="false" aria-controls="collapse-employee-photo" href="#collapse-employee-photo">
                                                    <b>Photo</b>
                                                </a>
                                                <div id="collapse-employee-photo" class="collapse" aria-labelledby="heading-employee-photo" data-parent="#accordion">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-12">
                                                                            @*Photo*@
                                                                            <div class="form-group">
                                                                                @Html.CustomLabel("Employee Photo")
                                                                                <div>
                                                                                    @Html.TextBoxFor(m => m.EmployeePhotoViewModel.PhotoPath, new { @id = "PhotoPath", @class = "form-control text-capitalize", type = "file", name = "PhotoPath", onchange = "document.getElementById('imagepreview').src = window.URL.createObjectURL(this.files[0])", @autocomplete = "off", @placeholder = "Enter Photo", required = "required" })
                                                                                    @Html.ValidationMessageFor(m => m.EmployeePhotoViewModel.PhotoPath)
                                                                                </div>
                                                                            </div>

                                                                            <hr />
                                                                            <img src="data:image;base64,@System.Convert.ToBase64String(Model.EmployeePhotoViewModel.Photo)" id="imagepreview" alt="Upload your image" width="200" height="200" />
                                                                            <hr />

                                                                            @*Note*@
                                                                            <div class="form-group">
                                                                                @Html.CustomLabel("Note")
                                                                                @Html.TextAreaFor(m => m.EmployeePhotoViewModel.Note, new { @id = "note-employee-photo", @class = "form-control", @placeholder = "Enter Note", @maxlength = "1500", @autocomplete = "off", onkeyup = "ToTextCapitalize()" })
                                                                                @Html.ValidationMessageFor(m => m.EmployeePhotoViewModel.Note)
                                                                            </div>

                                                                            @*ReasonForModification*@
                                                                            <div class="form-group">
                                                                                @Html.CustomLabel("ReasonForModification")
                                                                                <div>
                                                                                    @Html.TextAreaFor(m => m.EmployeePhotoViewModel.ReasonForModification, new { @id = "reason-for-modification-employee-photo", @class = "form-control mandatory-mark text-capitalize", @maxlength = "100", @autocomplete = "off", @placeholder = "Enter Reason For Modification", required = "required" })
                                                                                    @Html.ValidationMessageFor(m => m.EmployeePhotoViewModel.ReasonForModification)
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            @*Accordian 8 - Employee Salary Structure*@
                                            <div id="heading-employee-salary-structure" class="card mt-3">
                                                <a class="card-header p-3" data-toggle="collapse" aria-expanded="false" aria-controls="collapse-employee-salary-structure" href="#collapse-employee-salary-structure">
                                                    <b>Salary Structure</b>
                                                </a>
                                                <div id="collapse-employee-salary-structure" class="collapse" aria-labelledby="heading-employee-salary-structure" data-parent="#accordion">
                                                    <div class="card-body">
                                                        <div class="row">
                                                            <div class="col-12">
                                                                <div class="card-body">
                                                                    <table id="tbl-employee-salary-structure" class="table compact table-striped table-bordered text-nowrap" cellspacing="0" width="100%">
                                                                        <thead class="text-center">
                                                                            <tr>
                                                                                <th><input type="checkbox" name="check_all" id="select-all-employee-salary-structure" /></th>
                                                                                <th style=" display:none;">SalaryBreakupId</th>
                                                                                <th>SalaryBreakup Name</th>
                                                                                <th>Breakup Value</th>
                                                                                <th>IsPercentage</th>
                                                                                <th>ActivationDate</th>
                                                                                <th>ExpiryDate</th>
                                                                                <th>CloseDate</th>
                                                                                <th>Note</th>
                                                                                <th>ReasonForModification</th>
                                                                            </tr>
                                                                        </thead>

                                                                        <tbody class="text-center">
                                                                            @{
                                                                                IEnumerable<EmployeeSalaryStructureViewModel> employeeSalaryStructureViewModels = (IEnumerable<EmployeeSalaryStructureViewModel>)HttpContext.Current.Session["EmployeeSalaryStructure"];

                                                                                foreach (EmployeeSalaryStructureViewModel viewModel in employeeSalaryStructureViewModels)
                                                                                {
                                                                                    <tr>
                                                                                        <td><input type="checkbox" name="check_all" class="checks" /></td>
                                                                                        <td class="d-none">@viewModel.SalaryBreakupId</td>
                                                                                        <td>@viewModel.NameOfSalaryBreakup</td>
                                                                                        <td>@viewModel.BreakupValue</td>
                                                                                        <td>@viewModel.IsPercentage</td>
                                                                                        <td>@viewModel.ActivationDate</td>
                                                                                        <td>@viewModel.ExpiryDate</td>
                                                                                        <td>@viewModel.CloseDate</td>
                                                                                        <td>@viewModel.Note</td>
                                                                                        <td>@viewModel.ReasonForModification</td>
                                                                                    </tr>
                                                                                }
                                                                            }
                                                                        </tbody>
                                                                    </table>

                                                                    <div class="modal fade" id="employee-salary-structure-modal" tabindex="-1" data-backdrop="static" role="dialog" aria-labelledby="modal-new-event" aria-hidden="true">
                                                                        <div class="modal-dialog modal-dialog-centered modal-dialog-zoom" role="document">
                                                                            <div class="modal-content">
                                                                                <div class="modal-header">
                                                                                    <h4 class="modal-title text-center" id="employee-salary-structure-text">Add</h4>
                                                                                    <button type="button" id="close-employee-salary-structure" class="close" data-dismiss="modal" aria-label="Close">
                                                                                        <span aria-hidden="true">&times;</span>
                                                                                    </button>
                                                                                </div>
                                                                                <div class="modal-body">
                                                                                    @*Salary Breakup*@
                                                                                    <div class="form-group">
                                                                                        @Html.CustomLabel("Salary Breakup")
                                                                                        @Html.DropDownListFor(m => m.EmployeeSalaryStructureViewModel.SalaryBreakupId, new SelectList(detailViewModel.SalaryBreakupDropdownList, "Value", "Text", 0), "---Please select---", new { @id = "salaryBreakup", @class = "form-control mandatory-mark", @autocomplete = "off" })
                                                                                        @Html.ValidationMessageFor(m => m.EmployeeSalaryStructureViewModel.SalaryBreakupId)
                                                                                    </div>

                                                                                    @*Breakup Value*@
                                                                                    <div class="form-group">
                                                                                        @Html.CustomLabel("Breakup Value")
                                                                                        @Html.TextBoxFor(m => m.EmployeeSalaryStructureViewModel.BreakupValue, new { @id = "breakupValue", @class = "form-control mandatory-mark", @type = "number", @min = 1, @max = 255, @autocomplete = "off", @placeholder = "Enter Breakup Value" })
                                                                                        @Html.ValidationMessageFor(m => m.EmployeeSalaryStructureViewModel.BreakupValue)
                                                                                    </div>

                                                                                    @*IsPercentage*@
                                                                                    <div class="row form-group mt-4">
                                                                                        <div class="col-8">
                                                                                            @Html.CustomLabel("Percentage")
                                                                                        </div>

                                                                                        <div class="col-4 text-right">
                                                                                            <label class="switch switch-left-right">
                                                                                                @Html.CheckBoxFor(m => m.EmployeeSalaryStructureViewModel.IsPercentage, new { @id = "isPercentage", @class = "form-control switch-input", required = "required" })
                                                                                                <span class="slider round">
                                                                                                    <span class="on"><b>True</b></span><span class="off"><b>False</b></span>
                                                                                                </span>
                                                                                            </label>
                                                                                        </div>
                                                                                    </div>

                                                                                    @*ActivationDate*@
                                                                                    <div class="form-group">
                                                                                        @Html.CustomLabel("Activation Date")
                                                                                        @Html.TextBoxFor(m => m.EmployeeSalaryStructureViewModel.ActivationDate, "{0:yyyy-MM-dd}", new { @id = "activation-date-employee-salary-structure", @class = "form-control mandatory-mark deny-past-date", @Type = "date", required = "required", onclick = "DenyPastDate()" })
                                                                                        @Html.ValidationMessageFor(m => m.EmployeeSalaryStructureViewModel.ActivationDate)
                                                                                    </div>

                                                                                    @*ExpiryDate*@
                                                                                    <div class="form-group">
                                                                                        @Html.CustomLabel("Expiry Date")
                                                                                        @Html.TextBoxFor(m => m.EmployeeSalaryStructureViewModel.ExpiryDate, "{0:yyyy-MM-dd}", new { @id = "expiry-date-employee-salary-structure", @class = "form-control deny-past-date-from-reference-date", @Type = "date", onclick = "DenyPastDateFromReferenceDate('activation-date-employee-salary-structure')" })
                                                                                        @Html.ValidationMessageFor(m => m.EmployeeSalaryStructureViewModel.ExpiryDate)
                                                                                    </div>

                                                                                    @*CloseDate*@
                                                                                    <div class="form-group">
                                                                                        @Html.CustomLabel("Close Date")
                                                                                        @Html.TextBoxFor(m => m.EmployeeSalaryStructureViewModel.CloseDate, "{0:yyyy-MM-dd}", new { @id = "close-date-employee-salary-structure", @class = "form-control", @Type = "date", onchange = "Closedate()" })
                                                                                        @Html.ValidationMessageFor(m => m.EmployeeSalaryStructureViewModel.CloseDate)
                                                                                    </div>

                                                                                    @*Note*@
                                                                                    <div class="form-group mt-1">
                                                                                        @Html.CustomLabel("Note")
                                                                                        @Html.TextAreaFor(m => m.EmployeeSalaryStructureViewModel.Note, new { @id = "note-employee-salary-structure", @class = "form-control", @placeholder = "Enter Note", @maxlength = "1500", @autocomplete = "off", onkeyup = "ToTextCapitalize()" })
                                                                                        @Html.ValidationMessageFor(m => m.EmployeeSalaryStructureViewModel.Note)
                                                                                    </div>

                                                                                    @*ReasonForModification*@
                                                                                    <div class="form-group">
                                                                                        @Html.CustomLabel("ReasonForModification")
                                                                                        <div>
                                                                                            @Html.TextAreaFor(m => m.EmployeeSalaryStructureViewModel.ReasonForModification, new { @id = "reason-for-modification-employee-salary-structure", @class = "form-control mandatory-mark text-capitalize", @maxlength = "100", @autocomplete = "off", @placeholder = "Enter Reason For Modification", required = "required" })
                                                                                            @Html.ValidationMessageFor(m => m.EmployeeSalaryStructureViewModel.ReasonForModification)
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                                <div class="modal-footer">
                                                                                    <button type="button" id="btn-add-employee-salary-structure-modal" class="btn btn-success ">Add</button>
                                                                                    <button type="button" id="btn-update-employee-salary-structure-modal" class="btn btn-primary" style="display:none">Update</button>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>

                                @*Note*@
                                <div class="form-group">
                                    @Html.CustomLabel("Note")
                                    <div>
                                        @Html.TextAreaFor(m => m.Note, new { @id = "note", @class = "form-control text-capitalize default-none", @autocomplete = "off", @maxlength = "4500", @placeholder = "Enter Note" })
                                        @Html.ValidationMessageFor(m => m.Note)
                                    </div>
                                </div>

                                @*ReasonForModification*@
                                <div class="form-group">
                                    @Html.CustomLabel("ReasonForModification")
                                    <div>
                                        @Html.TextAreaFor(m => m.ReasonForModification, new { @id = "reason-for-modification", @class = "form-control mandatory-mark text-capitalize", @maxlength = "100", @autocomplete = "off", @placeholder = "Enter Reason For Modification", required = "required" })
                                        @Html.ValidationMessageFor(m => m.ReasonForModification)
                                    </div>
                                </div>

                                @*Hiddent Field For EntryDateTime*@
                                @Html.HiddenFor(m => m.EntryDateTime)

                                @*Hiddent Field For EmployeePrmKey*@
                                @Html.HiddenFor(m => m.EmployeePrmKey)

                                @*Hiddent Field For EmployeeModificationPrmKey
                                @Html.HiddenFor(m => m.EmployeeModificationPrmKey)

                                @*Hiddent Field For EmployeeDepartmentPrmKey
                                @Html.HiddenFor(m => m.EmployeeDepartmentViewModel.EmployeeDepartmentPrmKey)

                                @*Hiddent Field For EmployeeDesignationPrmKey
                                @Html.HiddenFor(m => m.EmployeeDesignationViewModel.EmployeeDesignationPrmKey)

                                @*Hiddent Field For EmployeeDetailPrmKey
                                @Html.HiddenFor(m => m.EmployeeDetailViewModel.EmployeeDetailPrmKey)

                                @*Hiddent Field For EmployeeDocumentPrmKey
                                @Html.HiddenFor(m => m.EmployeeDocumentViewModel.EmployeeDocumentPrmKey)

                                @*Hiddent Field For EmployeePerformanceRatingPrmKey
                                @Html.HiddenFor(m => m.EmployeePerformanceRatingViewModel.EmployeePerformanceRatingPrmKey)

                                @*Hiddent Field For EmployeePhotoPrmKey
                                @Html.HiddenFor(m => m.EmployeePhotoViewModel.EmployeePhotoPrmKey)

                                @*Hiddent Field For EmployeeWorkingSchedulePrmKey
                                @Html.HiddenFor(m => m.EmployeeWorkingScheduleViewModel.EmployeeWorkingSchedulePrmKey)

                                @*Hiddent Field For EmployeeSalaryStructurePrmKey
                                @Html.HiddenFor(m => m.EmployeeSalaryStructureViewModel.EmployeeSalaryStructurePrmKey)*@

                                @*Hiddent Field For UserProfilePrmKey*@
                                @Html.HiddenFor(m => m.UserProfilePrmKey)

                                @*Hiddent Field For UserAction*@
                                @Html.HiddenFor(m => m.UserAction)

                                @*Hiddent Field For Extension*@
                                @Html.HiddenFor(m => m.EmployeePhotoViewModel.Extension)

                                @*Hiddent Field For Photo*@
                                @Html.HiddenFor(m => m.EmployeePhotoViewModel.Photo)

                            </div>

                            @*Save / Submit Button *@
                            @Html.OperationFooter("Modify", "SaveDataTables", "Employee", "None")
                        }
                    }
                </div>
            </div>
        </div>
    </div>
</body>
</html>

<script>
    debugger;
    var saveDataTables = '@Url.Action("SaveDataTables", "Employee")';
</script>

<script src="~/Scripts/Custom/Employees.js"></script>